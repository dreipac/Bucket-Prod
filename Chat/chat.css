/* ---------------------------------------
   Chat App – Neue UI (Glass / Neo Dark)
   -> drop-in replacement für deine chat.css
   -> kein HTML/JS-Update nötig
----------------------------------------*/

/* Optional: bessere Schrift (system fallback bleibt) */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

:root{
  --glass-rgb: 22 24 28;
  --glass-alpha: .58;
  --glass-strong-alpha: .75;

  --accent: #22b0ff;
  --accent-2: #7c4dff;

  --ink: #e9eef6;
  --ink-strong: #fff;
  --ink-inverse: #0b1220;
  --muted: #b9c0c9;

  --bg: #101317;

  --card-alpha: .82;
  --success: #2ecc71;
  --danger: #ff6b6b;
  --radius: 18px;
  --shadow: 0 12px 36px rgba(0,0,0,.4);
  --overlay-dark: .55;
  --overlay-light: .18;


  /* Chat-spezifisch weiter nötig */
  --shadow-1: 0 8px 24px rgba(0,0,0,.35);
  --shadow-2: 0 2px 8px rgba(0,0,0,.35);
  --blur: 12px;

  /* Bubble Farben */
  --me-bg: #2aa67a;     
  --them-bg: rgba(255,255,255,.05);
  --me-border: rgba(0,0,0,0.25);
  --them-border: rgba(255,255,255,.08);

  --rail-collapsed: 64px;
  --rail-expanded: 220px;

  --press-dur: 220ms;

  /* NEU: generische Text- und Panel-Farben für Dark-Theme */
  --text: var(--ink);
  --panel: rgba(16,19,23,0.95);
  --panel-strong: rgba(16,19,23,1);
}

/* NEU: Light-Theme-Overrides (per data-theme="light" am <html>-Element) */
[data-theme="light"]{
  --bg: #f4f5fb;
  --ink: #0b1220;
  --ink-strong: #000;
  --ink-inverse: #f9fafb;
  --muted: #5b6475;

  --me-bg: #2563eb;
  --them-bg: #ffffff;
  --me-border: rgba(15,23,42,0.25);
  --them-border: rgba(15,23,42,0.08);

  --panel: rgba(255,255,255,0.94);
  --panel-strong: #ffffff;
}


*{box-sizing:border-box}
html,body{height:100%}
body{
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}


/* ---------- Layout ---------- */

.chat-layout{
  display:grid;
  grid-template-columns: var(--rail-collapsed) 320px 1fr;
  min-height:100vh;
}

/* ---------- Linke Icon-Leiste (Straton Rail) als Drawer ---------- */

/* Zelle im Grid – schmale feste Spalte links */
.app-rail{
  position:relative;
  overflow:visible; /* wichtig, damit das Panel über den Rand ragen darf */
}

/* Das eigentliche Panel, das herausfährt */
.app-rail__panel{
  position:absolute;
  top:0;
  left:0;
  bottom:0;
  width:var(--rail-collapsed);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.0));
  border-right:1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(var(--blur));
  padding: 1.2rem .6rem .6rem;   /* ← NEU: viel höher */
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:.8rem;
  box-shadow: var(--shadow-2);
  z-index:100;
  transition: width .22s ease;
}


/* Beim Hover fährt das Panel über Sidebar/Chat hinaus */
.app-rail:hover .app-rail__panel{
  width:var(--rail-expanded);
}


/* Beim Hover fährt der Drawer auf, ohne das Grid zu beeinflussen */
.app-rail:hover{
  width:var(--rail-expanded);
}


/* Button in der Rail */
.rail-btn{
  display:flex;
  align-items:center;
  gap:.55rem;
  padding:.25rem;                 /* klein – wirkt wie nur Icon */
  border-radius:999px;            /* rund um das Icon */
  text-decoration:none;
  border:1px solid transparent;
  background:transparent;         /* kein Button-Look */
  color:var(--text);
  font-weight:600;
  cursor:pointer;
  white-space:nowrap;
  overflow:hidden;
  transition:
    background .18s ease,
    border .18s ease,
    box-shadow .18s ease,
    padding .18s ease;
}
/* Wenn über dem Icon/Link: Button-Form */
.app-rail:hover .rail-btn:hover{
    padding:.45rem .7rem;
    background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
    border-color: var(--accent);
    box-shadow: 0 0 0 1px rgba(122,162,255,.25);

    /* NEU → Button auf volle Leistenbreite strecken */
    width: calc(100% - 1.2rem);
}



.rail-btn__icon{
  font-size:1.1rem;
}

/* PNG Icon */
.rail-btn__icon-img{
  width: 32px;
  height: 32px;
  object-fit: contain;
  flex-shrink: 0;
  opacity: .95;
}


/* Text zunächst “eingeklappt” */
.rail-btn__label{
  max-width:0;
  opacity:0;
  transition: max-width .22s ease, opacity .18s ease;
}

/* Wenn die Rail aufgeklappt ist, Text immer anzeigen */
.app-rail:hover .rail-btn__label{
  max-width:120px;
  opacity:1;
}



@media (max-width: 960px){
  .chat-layout{
    grid-template-columns: 1fr;
  }
  .app-rail{
    display:none;
  }
  .chat-sidebar{ order:2 }
  .chat-main{ order:1 }
}

/* ---- Title oben in der Rail ---- */
.rail-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--ink);
  opacity: 0;
  padding: 0 0.6rem;
  margin-bottom: 1.2rem;
  white-space: nowrap;
  transition: opacity .2s ease;
}

/* Text nur anzeigen, wenn Rail ausgeklappt ist */
.app-rail:hover .rail-title {
  opacity: 1;
}




/* ---------- Sidebar ---------- */

.chat-sidebar{
  border-right:1px solid rgba(255,255,255,.06);
  background: linear-gradient(
    180deg,
    rgba(255,255,255,.03),
    rgba(255,255,255,0)
  );
  backdrop-filter: blur(var(--blur));
  padding:1rem;
  display:flex;
  flex-direction:column;
  gap:1rem;
}


.chat-sidebar__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  padding:.75rem .25rem 1rem;
}

.chat-sidebar__title{
  display:flex;
  align-items:center;
  gap:.8rem;
}

.chat-title-icon{
  opacity:0.85;
  width:30px;
  height:30px;
}

.chat-sidebar__header h1{
  font-size:1.25rem;
  margin:0;
  font-weight:700;
  letter-spacing:.2px;
}

/* Plus-Button rechts neben "Chats" */

.chat-header-icon-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;

  /* Icon soll sichtbar bleiben */
  padding: 4px;               /* etwas Luft, aber kein großer Kreis */
  
  /* Kreis entfernen */
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;

  /* Runde Form entfernen */
  border-radius: 0 !important;

  /* Größe automatisch – kein erzwungener 30px-Kreis */
  width: auto;
  height: auto;

  cursor: pointer;
}
.chat-header-icon-btn:hover{
  background: rgba(255,255,255,0.06);
  border-radius: 6px;
}

.chat-header-icon-btn svg {
  width: 28px;
  height: 28px;
  color: var(--ink);     /* Helle Icon-Farbe */
  stroke: currentColor;  /* Erzwingt die Darstellung */
  fill: none;
}

.back-link{
  color:var(--muted); text-decoration:none; font-weight:600;
  padding:.25rem .5rem; border-radius:8px; border:1px solid transparent;
}
.back-link:hover{ border-color:rgba(255,255,255,.12); background:rgba(255,255,255,.04) }

/* Panels */
.pending,.contacts{
  background: var(--panel);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  padding:.9rem;
  box-shadow: var(--shadow-2);
}
.pending h2,.contacts h2{
  margin:.1rem 0 .5rem; font-size:.95rem; letter-spacing:.3px; color:#d3dcff;
}

/* Listen */
.list{
  list-style:none; margin:.5rem 0 0; padding:0;
  display:flex; flex-direction:column; gap:.45rem;
}
.list li{
  display:flex; align-items:center; justify-content:space-between; gap:.6rem;
  padding:.55rem .65rem;
  border-radius:12px;
  cursor:pointer;
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.07);
  transition: transform .08s ease, background .2s ease, border .2s ease;
}

/* Aktiver Chat-Eintrag wie Bucket-Liste */
.list li.active{
  background:#0e1117;
  border-color: transparent;
  background-image:
    linear-gradient(#0e1117,#0e1117),
    linear-gradient(135deg,var(--accent),var(--accent-2));
  background-origin:border-box;
  background-clip: padding-box, border-box;
}

.list li:hover{
  transform: translateY(-1px);
  background: var(--panel-strong);
  border-color: rgba(255,255,255,.12);
}
.list .row-actions{display:flex; gap:.4rem}
.list button{
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  color:var(--text);
  border-radius:10px;
  padding:.3rem .6rem;
  cursor:pointer; font-weight:600;
}
.list button:hover{ border-color: var(--accent); box-shadow: 0 0 0 2px rgba(122,162,255,.15) inset }

/* ---------- Main: Chat ---------- */

.chat-main{
  display:grid; grid-template-rows:auto 1fr auto; min-height:100vh;
  backdrop-filter: blur(calc(var(--blur) * .6));
}

/* Header */
.chat-header{
  position:sticky; top:0; z-index:3;
  padding:1rem 1.25rem;
  border-bottom:1px solid rgba(255,255,255,.06);
  background: linear-gradient(180deg, rgba(12,18,32,.9), rgba(12,18,32,.6));
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.chat-title{
  font-weight:700; letter-spacing:.2px;
  font-size:1.05rem;
  opacity:.95;
}

/* --- Kontakt-Suchfeld im Header (Teams-Style) --- */

.chat-header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
}

.chat-recipient{
  position: relative;
  min-width: 260px;
  max-width: 340px;
}

.chat-recipient-input{
  width: 100%;
  padding: .55rem .9rem;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.16);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  color: var(--ink);
  font-size: .9rem;
  outline: none;
  transition: border .18s ease, box-shadow .18s ease, background .18s ease;
}

.chat-recipient-input::placeholder{
  color: #8a93a8;
}

.chat-recipient-input:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(34,176,255,.25);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
}

/* Dropdown mit Vorschlägen */
.chat-recipient-results{
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  margin: 0;
  padding: 4px;
  list-style: none;
  border-radius: 14px;
  background: rgb(var(--glass-rgb) / var(--glass-strong-alpha));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: var(--shadow-1);
  max-height: 260px;
  overflow: auto;
  z-index: 5;
}

.chat-recipient-results li{
  display: flex;
  align-items: center;
  gap: .55rem;
  padding: .45rem .6rem;
  border-radius: 10px;
  cursor: pointer;
  font-size: .9rem;
}

.chat-recipient-results li:hover{
  background: rgba(255,255,255,.10);
}

.chat-recipient-results .empty{
  opacity: .7;
  font-style: italic;
}

/* Avatar im Dropdown – vorhandene Klasse wiederverwenden */
.chat-recipient-results img{
  width: 28px;
  height: 28px;
  border-radius: 999px;
  object-fit: cover;
}


/* Nachrichtenliste */
.messages{
  list-style:none; margin:0; padding:1.2rem 1.2rem 2rem;
  display:flex; flex-direction:column; gap:.6rem;
  overflow:auto;
  scroll-behavior:smooth;
}

.chat-main {
  background:
    /* sehr dezente Sterne */
    radial-gradient(1px 1px at 25% 30%, rgba(255,255,255,0.55), transparent),
    radial-gradient(1px 1px at 75% 60%, rgba(255,255,255,0.4), transparent),
    radial-gradient(1px 1px at 55% 80%, rgba(255,255,255,0.35), transparent),

    /* tiefdunkle blaue Nebel */
    radial-gradient(circle at 20% 30%, rgba(0, 30, 90, 0.55), transparent 70%),
    radial-gradient(circle at 80% 70%, rgba(0, 45, 140, 0.45), transparent 75%),
    radial-gradient(circle at 50% 50%, rgba(0, 18, 55, 0.65), transparent 80%),

    /* fast schwarz-blauer Grundton */
    #01020a;

  background-size: cover;
}







/* Leerer Zustand */
.messages:empty::before{
  content:"Wähle links einen Kontakt, um zu starten";
  color:var(--muted);
  display:block; text-align:center; margin-top:18vh;
  font-size:.98rem;
  opacity:.8;
}

/* Scrollbar Styling (WebKit + Firefox) */
.messages::-webkit-scrollbar{ width: 10px }
.messages::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.10));
  border-radius: 999px;
}
.messages{ scrollbar-color: rgba(255,255,255,.22) transparent; scrollbar-width: thin }

/* Wrapper für Nachricht + "Gelesen" */
.msg{
  max-width: min(72%, 720px);
  display: flex;
  flex-direction: column;
  gap: .25rem;
  background: none;
  padding: 0;
  border: none;
  box-shadow: none;
}

/* eigene / empfangene Message Position */
.msg.me{
  align-self: flex-end;
}
.msg.them{
  align-self: flex-start;
}

/* Die eigentliche Bubble */
.msg-bubble {
  padding:.6rem .8rem .5rem;
  border-radius:18px;
  position:relative;
  box-shadow: var(--shadow-1);
  border:1px solid transparent;

  display: inline-block;      /* WICHTIG – macht die Bubble schmal */
  max-width: 100%;            /* verhindert zu breite Bubbles */
  width: fit-content;         /* passt sich dem Inhalt an */
}


/* Farben für Bubbles */
.msg.me .msg-bubble{
  background: var(--me-bg);
  border-color: var(--me-border);
}
.msg.them .msg-bubble{
  background: var(--them-bg);
  border-color: var(--them-border);
}

/* "Gelesen" unter der Bubble */
.meta{
  font-size:.75rem;
  color:var(--muted);
  opacity:.85;
  text-align: right;   /* bei eigenen Nachrichten rechtsbündig */
}

@keyframes msgIn{
  from{ transform: translateY(4px); opacity:.0 }
  to{ transform: translateY(0); opacity:1 }
}

/* Inhalt + Meta */
.msg > div:first-child{ word-wrap:break-word }

/* Composer */
.composer{
  display:flex; gap:.6rem; padding:1rem 1.25rem;
  border-top:1px solid rgba(255,255,255,.06);
  background: linear-gradient(0deg, rgba(9,14,26,.92), rgba(9,14,26,.65));
}

.composer input{
  flex:1;
  padding:.8rem 1rem;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  color:var(--text);
  outline:none;
  transition: border .18s ease, box-shadow .18s ease, background .18s ease;
}
.composer input::placeholder{ color:#90a2c8 }
.composer input:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(122,162,255,.18);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
}

.composer button{
  padding:.85rem 1.1rem;
  border-radius:14px;
  border:1px solid rgba(122,162,255,.45);
  background: linear-gradient(180deg, rgba(122,162,255,.25), rgba(122,162,255,.15));
  color:#f3f6ff; font-weight:700; letter-spacing:.2px;
  cursor:pointer;
  transition: transform .06s ease, box-shadow .18s ease, filter .18s ease;
  box-shadow: 0 6px 18px rgba(122,162,255,.25), inset 0 0 0 1px rgba(255,255,255,.06);
}
.composer button:hover{
  filter: brightness(1.05);
  box-shadow: 0 8px 24px rgba(122,162,255,.35);
}
.composer button:active{ transform: translateY(1px) }

/* Kleinere Verbesserungen */
a, button{ -webkit-tap-highlight-color: transparent }

.chat-contact{
  display: flex;
  align-items: center;
  gap: .6rem;
}

.chat-contact-avatar{
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
}

.chat-contact-name{
  font-weight: 600;
  color: var(--ink);
}

.chat-title-avatar{
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
  vertical-align: middle;
  margin-right: 8px;
}

/* ---------- New Chat Modal ---------- */

.chat-modal{
  position:fixed;
  inset:0;
  z-index:300;
  display:none;
  align-items:center;
  justify-content:center;
}

.chat-modal.open{
  display:flex;
}

.chat-modal-backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.55);
}

.chat-modal-dialog{
  position:relative;
  z-index:1;
  width:min(900px, 96vw);       /* breiter, wie Bucket-Settings */
  max-height:90vh;              /* fast fullscreen, aber mit Rand */
  border-radius:20px;
  background:rgb(var(--glass-rgb) / var(--glass-strong-alpha));
  box-shadow: var(--shadow-1);
  padding:0;                    /* Padding übernimmt jetzt das Settings-Layout */
  overflow:hidden;
  display:flex;
  flex-direction:column;
}


.chat-modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.5rem;
  margin-bottom:.5rem;
}

.chat-modal-head h2{
  margin:0;
  font-size:1rem;
}

.chat-modal-close{
  border:0;
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  font-size:1.4rem;
  line-height:1;
}

.chat-modal-body{
  max-height:300px;
  overflow:auto;
}

.chat-modal-list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:.35rem;
}

.chat-modal-item{
  display:flex;
  align-items:center;
  gap:.55rem;
  padding:.45rem .55rem;
  border-radius:12px;
  background:rgba(0,0,0,.18);
}

.chat-modal-item:hover{
  background:rgba(0,0,0,.26);
}

.chat-modal-avatar{
  width:28px;
  height:28px;
  border-radius:999px;
  object-fit:cover;
  flex-shrink:0;
}

.chat-modal-item-name{
  font-size:.95rem;
}

.chat-modal-empty{
  font-size:.9rem;
  color:var(--muted);
  padding:.3rem 0;
}

/* ---------- Einstellungen / Design ---------- */

.settings-section{
  padding:.4rem .1rem .6rem;
}

.settings-section h3{
  margin:.1rem 0 .25rem;
  font-size:.95rem;
}

.settings-description{
  margin:0 0 .6rem;
  font-size:.85rem;
  color:var(--muted);
}

.settings-theme-toggle{
  display:flex;
  gap:.5rem;
}

.settings-theme-option{
  flex:1;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  padding:.45rem .7rem;
  font-size:.9rem;
  cursor:pointer;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  color:var(--ink);
  font-weight:600;
  text-align:center;
  box-shadow: var(--shadow-2);
  transition:
    border .18s ease,
    box-shadow .18s ease,
    transform .08s ease,
    background .18s ease;
}

.settings-theme-option:hover{
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
}

.settings-theme-option.is-active{
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(34,176,255,.30);
}

/* Light-Theme kleine Anpassung für Buttons */
[data-theme="light"] .settings-theme-option{
  border-color: rgba(15,23,42,0.14);
  background: linear-gradient(180deg, #ffffff, #f3f4f6);
}

/* ===== Settings-Layout wie Bucket (für Chat-Settings) ===== */

.settings-shell{
  display:grid;
  grid-template-columns: 260px 1fr;
  min-height:420px;
}

.settings-nav{
  display:flex;
  flex-direction:column;
  padding:16px;
  background: rgb(var(--glass-rgb) / .55);
  border-right: 1px solid rgba(255,255,255,.1);
}

.settings-title{
  margin:0 0 10px;
  font-size:22px;
  font-weight:600;
}

.settings-tab{
  margin-bottom:6px;
  text-align:left;
  border:1px solid rgba(255,255,255,.1);
  background:rgba(255,255,255,.05);
  color:var(--ink);
  border-radius:12px;
  padding:10px 12px;
  font-weight:600;
  cursor:pointer;
  transition:all .15s ease;
  display:flex;
  align-items:center;
  gap:10px;
}

.settings-tab.active{
  background: color-mix(in srgb, var(--accent) 45%, rgba(255,255,255,0.06));
  backdrop-filter: blur(8px) saturate(1.4);
  border: 1px solid color-mix(in srgb, var(--accent) 40%, transparent);
  color: var(--ink);
  box-shadow:
    0 2px 8px color-mix(in srgb, var(--accent) 22%, transparent),
    inset 0 0 0 1px rgba(255,255,255,0.08);
}

.settings-tab:hover{
  background: rgba(255,255,255,.08);
}

.settings-ico{
  width:18px;
  height:18px;
  object-fit:contain;
  opacity:0.9;
  flex-shrink:0;
}

.settings-content{
  padding:20px;
  overflow-y:auto;
}

/* Close-X oben rechts wie bei Bucket */
.settings-close-x{
  position:absolute;
  right:12px;
  top:12px;
  width:38px;
  height:38px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.08);
  color:var(--ink);
  font-size:24px;
  cursor:pointer;
  transition:all .15s ease;
  z-index:2;
}
.settings-close-x:hover{
  background:rgba(255,255,255,.12);
  transform:translateY(-1px);
}

/* Mobile: Navigation oben, Inhalt darunter (wie Bucket) */
@media (max-width: 900px){
  .settings-shell{
    grid-template-columns:1fr;
    grid-template-rows:auto 1fr;
  }
  .settings-nav{
    flex-direction:row;
    border-right:none;
    border-bottom:1px solid rgba(255,255,255,.08);
  }
  .settings-tab{
    flex:1 1 auto;
    text-align:center;
  }
}

/* ---------------------------------------
   Feintuning für Light-Mode
---------------------------------------- */

[data-theme="light"] .chat-header{
  background: linear-gradient(
    180deg,
    rgba(249,250,251,0.98),
    rgba(229,231,235,0.98)
  );
  border-bottom: 1px solid rgba(15,23,42,0.06);
  box-shadow: 0 6px 18px rgba(15,23,42,0.06);
}

/* Sidebar im Light-Mode etwas heller/cleaner */
[data-theme="light"] .chat-sidebar{
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.96),
    rgba(243,244,246,0.96)
  );
  border-right: 1px solid rgba(15,23,42,0.06);
}

/* Composer unten: hell statt dunkler Balken */
[data-theme="light"] .composer{
  background: linear-gradient(
    0deg,
    rgba(249,250,251,0.98),
    rgba(229,231,235,0.98)
  );
  border-top: 1px solid rgba(15,23,42,0.06);
}

/* Eingabefeld in Light-Mode: weiße Card */
[data-theme="light"] .composer input{
  border-color: rgba(148,163,184,0.7);
  background: #ffffff;
  color: #020617;
}

[data-theme="light"] .composer input::placeholder{
  color: #9ca3af;
}

/* Senden-Button im Light-Mode: klarer blau */
[data-theme="light"] .composer button{
  background: linear-gradient(180deg, #2563eb, #1d4ed8);
  border-color: rgba(37,99,235,0.9);
  color: #f9fafb;
  box-shadow: 0 6px 18px rgba(37,99,235,0.35);
}

[data-theme="light"] .contact-item.active {
  background: rgba(37, 99, 235, 0.12); /* sanftes Bläuliches Highlight */
  border-color: rgba(37, 99, 235, 0.4);
  color: #0b1220;
}

[data-theme="light"] .contact-item.active .contact-name {
  color: #0b1220;
}

[data-theme="light"] .contact-item.active .contact-last {
  color: #4b5563;
}

[data-theme="light"] .msg.me {
  border-radius: 18px 18px 4px 18px;  /* sanfter "Senden"-Schweif */
}

[data-theme="light"] .msg.them {
  border-radius: 18px 18px 18px 4px; /* sanfter "Empfangen"-Schweif */
}

[data-theme="light"] .msg {
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}
[data-theme="light"] .list li.active {
  background: #f1f3f7 !important;                     /* hellgrau */
  border-color: rgba(37, 99, 235, 0.35) !important;   /* dezenter blauer Rand */
  background-image: none !important;
  box-shadow:
    0 1px 3px rgba(0,0,0,0.06),
    0 0 0 2px rgba(37,99,235,0.28);                    /* sanfter „focus“ Look */
}

[data-theme="light"] .list li.active .chat-contact-name{
  color: #0b1220 !important;     /* dunkler Text */
}

[data-theme="light"] .chat-contact-avatar{
  filter: none !important;       /* Avatar bleibt normal sichtbar */
}
/* SETTINGS MODAL – LIGHT MODE FIX */
[data-theme="light"] .chat-modal-dialog {
  background: rgba(255, 255, 255, 0.9) !important;
  color: #0b1220 !important;
  backdrop-filter: blur(12px);
  border: 1px solid rgba(0,0,0,0.08);
}

/* Sidebar im Modal */
[data-theme="light"] .settings-nav {
  background: rgba(240, 242, 248, 0.9) !important;
  border-right: 1px solid rgba(0, 0, 0, 0.1);
}

/* Titel + Text */
[data-theme="light"] .settings-title,
[data-theme="light"] .settings-content,
[data-theme="light"] .settings-description {
  color: #0b1220 !important;
}

/* Tabs */
[data-theme="light"] .settings-tab {
  background: #ffffff;
  color: #0b1220;
  border: 1px solid rgba(0,0,0,0.1);
}

[data-theme="light"] .settings-tab.active {
  background: #e8edff;
  border-color: #2563eb;
  color: #0b1220;
}

/* Close-X */
[data-theme="light"] .settings-close-x {
  background: rgba(0, 0, 0, 0.06);
  color: #0b1220;
  border: 1px solid rgba(0,0,0,0.1);
}
[data-theme="light"] .settings-close-x:hover {
  background: rgba(0, 0, 0, 0.1);
}
/* ---- Theme-Buttons im DARK-Mode: Text immer hell ---- */
[data-theme="dark"] .settings-theme-option {
  color: var(--ink) !important;
}
/* ---- FIX: Theme-Button Schrift IMMER hell im Dark-Mode ---- */
[data-theme="dark"] .settings-theme-option {
  color: #f9fafb !important;
}

/* Inaktiver Button im Dark Mode etwas matter – aber Text bleibt hell */
[data-theme="dark"] .settings-theme-option[aria-pressed="false"] {
  opacity: 0.5;
  color: #f9fafb !important;
}
